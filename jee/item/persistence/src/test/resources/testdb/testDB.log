CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
CREATE SCHEMA ITEM AUTHORIZATION DBA
SET SCHEMA ITEM
SET SCHEMA PUBLIC
SET SCHEMA PUBLIC
create table ITEM.ITEM (\u000a        id bigint not null,\u000a        META_VERSION integer,\u000a        AUDIT_CREATED_BY varchar(15) not null,\u000a        AUDIT_CREATED_ON timestamp not null,\u000a        AUDIT_LAST_UPDATED_BY varchar(15) not null,\u000a        AUDIT_LAST_UPDATED_ON timestamp not null,\u000a        DESCRIPTION varchar(2000) not null,\u000a        ITEM_NUMBER varchar(30) not null,\u000a        NAME varchar(60) not null,\u000a        primary key (id),\u000a        unique (ITEM_NUMBER),\u000a        unique (NAME)\u000a    )
create table ITEM.ITEM_ITEM_OPTION_ASSOC (\u000a        ID_ITEM bigint not null,\u000a        ID_ITEM_OPTION bigint not null,\u000a        primary key (ID_ITEM, ID_ITEM_OPTION)\u000a    )
create table ITEM.ITEM_OPTION (\u000a        id bigint not null,\u000a        META_VERSION integer,\u000a        DESCRIPTION varchar(200) not null,\u000a        NAME varchar(60) not null,\u000a        TYPE varchar(30) not null,\u000a        primary key (id),\u000a        unique (NAME)\u000a    )
create table ITEM.ITEM_OPTION_SPECIFICATION (\u000a        id bigint not null,\u000a        META_VERSION integer,\u000a        NAME varchar(200) not null,\u000a        ID_ITEM_SPECIFICATION bigint not null,\u000a        ID_ITEM_OPTION bigint not null,\u000a        primary key (id)\u000a    )
create table ITEM.ITEM_SPECIFICATION (\u000a        id bigint not null,\u000a        META_VERSION integer,\u000a        AUDIT_CREATED_BY varchar(15) not null,\u000a        AUDIT_CREATED_ON timestamp not null,\u000a        AUDIT_LAST_UPDATED_BY varchar(15) not null,\u000a        AUDIT_LAST_UPDATED_ON timestamp not null,\u000a        ITEM_SPECIFICATION_NUMBER varchar(30) not null,\u000a        ID_ITEM bigint not null,\u000a        primary key (id),\u000a        unique (ITEM_SPECIFICATION_NUMBER)\u000a    )
create table ITEM.OFFER (\u000a        id bigint not null,\u000a        META_VERSION integer,\u000a        AUDIT_CREATED_BY varchar(15) not null,\u000a        AUDIT_CREATED_ON timestamp not null,\u000a        AUDIT_LAST_UPDATED_BY varchar(15) not null,\u000a        AUDIT_LAST_UPDATED_ON timestamp not null,\u000a        END_DATE date,\u000a        NAME varchar(60) not null,\u000a        PRICE_AMOUNT numeric,\u000a        PRICE_CURRENCY varchar(255),\u000a        START_DATE date not null,\u000a        ID_ITEM bigint not null,\u000a        primary key (id),\u000a        unique (NAME)\u000a    )
create table ITEM.PROMOTION (\u000a        id bigint not null,\u000a        META_VERSION integer,\u000a        AUDIT_CREATED_BY varchar(15) not null,\u000a        AUDIT_CREATED_ON timestamp not null,\u000a        AUDIT_LAST_UPDATED_BY varchar(15) not null,\u000a        AUDIT_LAST_UPDATED_ON timestamp not null,\u000a        END_DATE date,\u000a        NAME varchar(60) not null,\u000a        PROMOTIONAL_TEXT varchar(2000) not null,\u000a        START_DATE date not null,\u000a        ID_OFFER bigint not null,\u000a        primary key (id),\u000a        unique (ID_OFFER),\u000a        unique (NAME)\u000a    )
alter table ITEM.ITEM_ITEM_OPTION_ASSOC \u000a        add constraint FK_ITEMOPTION_ITEM \u000a        foreign key (ID_ITEM_OPTION) \u000a        references ITEM.ITEM_OPTION
alter table ITEM.ITEM_ITEM_OPTION_ASSOC \u000a        add constraint FK_ITEM_ITEMOPTION \u000a        foreign key (ID_ITEM) \u000a        references ITEM.ITEM
alter table ITEM.ITEM_OPTION_SPECIFICATION \u000a        add constraint FK_ITEMOPTIONSPEC_ITEMOPTION \u000a        foreign key (ID_ITEM_OPTION) \u000a        references ITEM.ITEM_OPTION
alter table ITEM.ITEM_OPTION_SPECIFICATION \u000a        add constraint FK_ITEMOPTIONSPEC_ITEMSPEC \u000a        foreign key (ID_ITEM_SPECIFICATION) \u000a        references ITEM.ITEM_SPECIFICATION
alter table ITEM.ITEM_SPECIFICATION \u000a        add constraint FK_ITEMSPEC_ITEM \u000a        foreign key (ID_ITEM) \u000a        references ITEM.ITEM \u000a        on delete cascade
alter table ITEM.OFFER \u000a        add constraint FK_OFFER_ITEM \u000a        foreign key (ID_ITEM) \u000a        references ITEM.ITEM
alter table ITEM.PROMOTION \u000a        add constraint FK_PROMOTION_OFFER \u000a        foreign key (ID_OFFER) \u000a        references ITEM.OFFER
create sequence ITEM.ID_SEQ_ITEM
create sequence ITEM.ID_SEQ_ITEM_OPTION
create sequence ITEM.ID_SEQ_ITEM_OPTION_SPEC
create sequence ITEM.ID_SEQ_ITEM_SPEC
create sequence ITEM.ID_SEQ_OFFER
create sequence ITEM.ID_SEQ_PROMOTION
SET SCHEMA ITEM
INSERT INTO ITEM VALUES(1,0,'TESTER','1970-01-01 01:01:01.000000000','TESTER','1970-01-01 01:01:01.000000000','TEST','ITM-TEST-001-04711','Test Item No. 1')
