CREATE USER SA PASSWORD "" ADMIN
/*C1*/SET SCHEMA PUBLIC
CONNECT USER SA
CREATE SCHEMA LOG AUTHORIZATION DBA
SET SCHEMA LOG
SET SCHEMA PUBLIC
SET SCHEMA PUBLIC
create table LOG.JMS_HEADER (\u000a        ID bigint not null,\u000a        NAME varchar(100) not null,\u000a        VALUE varchar(200),\u000a        ID_JMS_MESSAGE bigint not null,\u000a        primary key (ID)\u000a    )
create table LOG.JMS_MESSAGE (\u000a        ID bigint not null,\u000a        GUID varchar(50) not null,\u000a        ID_JMSMESSAGETYPE integer not null,\u000a        PROCESSING_STATE varchar(15) not null,\u000a        RECEIVED_ON timestamp not null,\u000a        COMPLETED_ON timestamp,\u000a        CONTENT longvarchar not null,\u000a        ERROR_TYPE varchar(100),\u000a        ERROR_MESSAGE varchar(300),\u000a        ERROR_STACKTRACE longvarchar,\u000a        primary key (ID),\u000a        unique (GUID)\u000a    )
create table LOG.JMS_MESSAGE_TYPE (\u000a        ID integer not null,\u000a        IDEMPOTENT bit not null,\u000a        LOGGED bit not null,\u000a        NAME varchar(200) not null,\u000a        SINCE date not null,\u000a        primary key (ID)\u000a    )
alter table LOG.JMS_HEADER \u000a        add constraint FK_JMSHEADER_JMSMESSAGE \u000a        foreign key (ID_JMS_MESSAGE) \u000a        references LOG.JMS_MESSAGE
alter table LOG.JMS_MESSAGE \u000a        add constraint FK_JMSMESSAGE_JMSMESSAGETYPE \u000a        foreign key (ID_JMSMESSAGETYPE) \u000a        references LOG.JMS_MESSAGE_TYPE
create sequence LOG.ID_SEQ_JMS_HEADER
create sequence LOG.ID_SEQ_JMS_MESSAGE
create sequence LOG.ID_SEQ_JMS_MESSAGE_TYPE
SET SCHEMA LOG
INSERT INTO JMS_MESSAGE_TYPE VALUES(1,FALSE,TRUE,'urn:event-type:<UNKNOWN>','1970-01-01')
INSERT INTO JMS_MESSAGE_TYPE VALUES(2,TRUE,TRUE,'REGISTER_ITEM','1970-01-01')
INSERT INTO JMS_MESSAGE VALUES(-1,'UUID-123-67-8997-98',2,'IN_PROGRESS','1970-01-01 01:01:01.000000000',NULL,'TEST',NULL,NULL,NULL)
SET SCHEMA PUBLIC
DISCONNECT
